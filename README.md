# アプリ詳細

## アプリurl
https://visual-discussion.herokuapp.com

## アプリ名
Visual Discussion (略称: Visu Disu)

## 開発の理由と背景
### 理由
以下の3点が一目で分かる議論の場がインターネット上にほしかったから｡

1.  **何**(主張? 反論?) が､
2.  **どこ**(上? 下? 右? 左?)にあって､
3.  **どの部分**(結論と理由の間?)に繋がっているのか

### 背景
大学生の頃よりインターネット上で文語形式の議論をしたいと思っていた｡
しかし､現在にかけて､話し合いの場として提供されている掲示板やQ&Aサイトでは､情報が一次元的
(上下)に表示される｡そのため､情報の配置は煩雑さを極め､以下の3点を瞬時に把握することが困難であり､ストレスであった｡

1.  **何**(主張? 反論?) が､
2.  **どこ**(上? 下? 右? 左?)にあって､
3.  **どの部分**(結論と理由の間?)に繋がっているのか

そこで､情報を二次元的(上下 + 左右)に整理して表示する議論アプリを開発することで､
前述した問題点を解消し､ストレスフリーな議論の場をインターネット上に提供することを試みた｡



## デモ画像

![discussion_imageのコピー](https://github.com/tikuwabux/VisualDiscussion/assets/111355072/48a8845c-4f7e-401d-bcc8-7af0773d31e3)



## 機能一覧
| User周りの機能 | 説明 |
| ---- | ---- |
| サインアップ機能 | 有効な｢ニックネーム｣, ｢メールアドレス｣, ｢パスワード｣, ｢確認用パスワード｣を入力することで､サインアップすることができる |
| ログイン機能 | 有効な｢メールアドレス｣, ｢パスワード｣を入力することで､ログインすることができる |
| ゲストログイン機能 | ｢ゲストログイン｣リンクを押すだけで､ゲストユーザーとしてログインすることができる |
| ログアウト機能 | ｢ログアウト｣リンクを押すと､ログアウトすることができる |
| ユーザー情報編集機能 |  ｢ニックネーム｣, ｢メールアドレス｣, ｢パスワード｣等を編集することができる |


| AgendaBoard周りの機能 | 説明 |
| ---- | ---- |
| 新規議題ボード作成機能 | 有効な｢議題｣を入力し､｢カテゴリ｣を選択することで､新たな議題ボードを作成することができる |
| ログインユーザーが作成した議題ボード一覧閲覧機能 | ログインユーザーは自身が作成した議題ボードの一覧を閲覧することができる |
| ログインユーザーが発言した議題ボード一覧閲覧機能 | ログインユーザーは自身が意見を投稿した議題ボードの一覧を閲覧することができる |
| カテゴリ名での議題ボード一覧検索機能 | ｢カテゴリ｣を選択することで､そのカテゴリを有する議題ボードの一覧を検索し､閲覧することができる |
| 議題名での議題ボード一覧検索機能 | ｢議題名｣を入力することで､入力した単語を議題名に有する議題ボードの一覧を検索し､閲覧することができる |
| 議題ボード詳細閲覧機能 | 議題ボードの議題と､作成された主張や反論の一覧を閲覧することができる |
| 議題ボード編集機能 | ログインユーザーは､自身が作成した､かつ､意見数が0である議題ボードに限り､｢議題｣や｢カテゴリ｣を編集することができる |
| 議題ボード削除機能 | ログインユーザーは､自身が作成した､かつ､意見数が0である議題ボードに限り､議題ボードを削除することができる |


| Argument周りの機能 | 説明 |
| ---- | ---- |
| 新規主張作成機能 | ｢結論｣,｢理由｣,｢証拠｣を入力することで､主張を作成することができる|
| 主張編集機能 | ログインユーザーは､自身が作成した､かつ､反論が1つもついてない主張に限り､主張を編集することができる |
| 主張削除機能 | ログインユーザーは､自身が作成した､かつ､反論が1つもついてない主張に限り､主張を削除することができる |


| Refutation周りの機能 | 説明 |
| ---- | ---- |
| 新規反論作成機能 | ｢結論｣,｢理由｣,｢証拠｣を入力することで､反論を作成することができる|
| 反論編集機能 | ログインユーザーは､自身が作成した､かつ､反論が1つもついてない反論に限り､反論を編集することができる |
| 反論削除機能 | ログインユーザーは､自身が作成した､かつ､反論が1つもついてない反論に限り､反論を削除することができる |


| OpinionPosition周りの機能 | 説明 |
| ---- | ---- |
| 意見の位置情報保存機能 | 議題ボード詳細ページ上で､意見をドラッグ&ドロップして移動させた際､ドロップ時の位置情報をDBに保存する |
| 意見の位置復元機能 | 議題ボード詳細ページリロード時､DBに保存されている位置情報をもとに､意見の位置を復元する |


| OpinionConnection周りの機能 | 説明 |
| ---- | ---- |
| 意見間の接続線情報保存機能 | 議題ボード詳細ページ上で､意見間に接続線を引いたとき､その接続線情報をDBに保存する |
| 意見間の接続線情報削除機能 | 議題ボード詳細ページ上で､意見間の接続線を削除したとき､その接続線情報をDBから削除する |
| 意見間の接続線復元機能 | 議題ボード詳細ページリロード時､DBに保存されている接続線情報をもとに､意見間の接続線を復元する |

## こだわりのポイント
### 1. 新規主張･反論を作成する際の自由度や快適さ
1. 理由･証拠フォームは無制限に追加することが可能
2. 結論･理由･証拠入力欄(改行不可)の幅は､入力された文字数の幅に合わせて伸縮
3. 結論詳細･理由詳細･証拠詳細入力欄(改行可)の幅は､最大幅の文字列を含む行の幅に､高さは全行の高さに合わせて伸縮

### 2. 反論の作成のしやすさ
反論対象の意見を見ながらの反論作成が可能｡

### 3. 意見のレイアウト
ツリー上に無駄なく配置された､美しいレイアウト

### 4. 目に優しい色

### 5. 最短距離でつながる接続線

### 5. 議題名での議題ボード検索の自由度
複数単語での自由度の高い検索が可能




## 使用した技術
### バックエンド
| 使用技術 | 用途 |
| ---- | ---- |
| Rails 6.0.6.1 | rubyを使用したwebアプリ開発の簡素化 |
| Ruby 2.7.6 | メイン言語 |
| Rspec | コードのテスト |
| Rubocop | コードのリファクタリング |
| PostgreSQL 14.6 | DBの操作 |

### フロントエンド
| 使用技術 | 用途 |
| ---- | ---- |
| Scss | 全体的なレイアウト整理 |
| Javascript | 動的操作の実装 |
| JQuery | js記述の簡素化 |
| cocoon | 主張･反論作成/編集ページにおける､理由､証拠入力フォームの動的追加･削除機能実装の簡素化|
| jsplumb | 意見のレイアウトをツリー状に整えることを簡素化 |
| ---- | 議題ボード詳細ページ上の､意見の挙動や意見間の接続線機能実装の簡素化 |


## ER図

## 全体設計

## 今後追加したい機能

## ライセンス
